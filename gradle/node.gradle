import org.apache.tools.ant.taskdefs.condition.Os

// gradle npm -task=build/update
task npm(type: Exec) {
    def isWindows = Os.isFamily(Os.FAMILY_WINDOWS)
    def task = project.hasProperty('task') ? project.property('task') : defaultTask
    def script = "${project.projectDir}/node/npm/$task.${isWindows ? 'cmd' : 'bash'}"

    commandLine isWindows ? ['cmd', '/c', script] : ['bash', '-x', script]
}
